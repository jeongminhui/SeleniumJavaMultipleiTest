<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>title : SBGrid2.5</title>

    <script type="text/javascript">
      var SBpath = "./";
    </script>

    <link type="text/css" rel="stylesheet" href="./SBGrid/css/SBGrid.css" />
    <link type="text/css" rel="stylesheet" href="./SBGrid/css/SBGrid_Default.css" />
    <script src="./SBGrid/SBGrid_Lib.js" type="text/javascript"></script>
    <script src="./SBGrid/SBGrid_min.js" type="text/javascript"></script>
  </head>
  <body>
    <div id="SBGridArea" style="width: 100%; height: 400px"></div>

    <script>
      $(function () {
        createGrid();
      });

      var datagrid;
      var gridData = [
        {
          location: "서울특별시",
          level: 0,
          sb_level_index: 0,
          sb_tree_checked: false,
        },
        {
          location: "도봉구",
          level: 1,
          sb_level_index: 1,
          sb_tree_checked: false,
        },
        {
          location: "쌍문동",
          level: 2,
          sb_level_index: 2,
          sb_tree_checked: false,
        },
        {
          location: "방학동",
          level: 2,
          sb_level_index: 3,
          sb_tree_checked: false,
        },
        {
          location: "창동",
          level: 2,
          sb_level_index: 4,
          sb_tree_checked: false,
        },
        {
          location: "도봉동",
          level: 2,
          sb_level_index: 5,
          sb_tree_checked: false,
        },
        {
          location: "노원구",
          level: 1,
          sb_level_index: 6,
          sb_tree_checked: false,
        },
        {
          location: "월계동",
          level: 2,
          sb_level_index: 7,
          sb_tree_checked: false,
        },
        {
          location: "공릉동",
          level: 2,
          sb_level_index: 8,
          sb_tree_checked: false,
        },
        {
          location: "상계동",
          level: 2,
          sb_level_index: 9,
          sb_tree_checked: false,
        },
        {
          location: "중계동",
          level: 2,
          sb_level_index: 10,
          sb_tree_checked: false,
        },
        {
          location: "하계동",
          level: 2,
          sb_level_index: 11,
          sb_tree_checked: false,
        },
        {
          location: "동대문구",
          level: 1,
          sb_level_index: 12,
          sb_tree_checked: false,
        },
        {
          location: "용신동",
          level: 2,
          sb_level_index: 13,
          sb_tree_checked: false,
        },
        {
          location: "제기동",
          level: 2,
          sb_level_index: 14,
          sb_tree_checked: false,
        },
        {
          location: "전농동",
          level: 2,
          sb_level_index: 15,
          sb_tree_checked: false,
        },
        {
          location: "답십리동",
          level: 2,
          sb_level_index: 16,
          sb_tree_checked: false,
        },
        {
          location: "장안동",
          level: 2,
          sb_level_index: 17,
          sb_tree_checked: false,
        },
        {
          location: "청량리동",
          level: 2,
          sb_level_index: 18,
          sb_tree_checked: false,
        },
        {
          location: "회기동",
          level: 2,
          sb_level_index: 19,
          sb_tree_checked: false,
        },
        {
          location: "휘경동",
          level: 2,
          sb_level_index: 20,
          sb_tree_checked: false,
        },
        {
          location: "이문동",
          level: 2,
          sb_level_index: 21,
          sb_tree_checked: false,
        },
        {
          location: "부산광역시",
          level: 0,
          sb_level_index: 22,
          sb_tree_checked: false,
        },
        {
          location: "해운대구",
          level: 1,
          sb_level_index: 23,
          sb_tree_checked: false,
        },
        {
          location: "우동",
          level: 2,
          sb_level_index: 24,
          sb_tree_checked: false,
        },
        {
          location: "중동",
          level: 2,
          sb_level_index: 25,
          sb_tree_checked: false,
        },
        {
          location: "좌동",
          level: 2,
          sb_level_index: 26,
          sb_tree_checked: false,
        },
        {
          location: "송정동",
          level: 2,
          sb_level_index: 27,
          sb_tree_checked: false,
        },
        {
          location: "반여동",
          level: 2,
          sb_level_index: 28,
          sb_tree_checked: false,
        },
        {
          location: "반송동",
          level: 2,
          sb_level_index: 29,
          sb_tree_checked: false,
        },
        {
          location: "재송동",
          level: 2,
          sb_level_index: 30,
          sb_tree_checked: false,
        },
        {
          location: "중구",
          level: 1,
          sb_level_index: 31,
          sb_tree_checked: false,
        },
        {
          location: "중앙동",
          level: 2,
          sb_level_index: 32,
          sb_tree_checked: false,
        },
        {
          location: "동광동",
          level: 2,
          sb_level_index: 33,
          sb_tree_checked: false,
        },
        {
          location: "대청동",
          level: 2,
          sb_level_index: 34,
          sb_tree_checked: false,
        },
        {
          location: "보수동",
          level: 2,
          sb_level_index: 35,
          sb_tree_checked: false,
        },
        {
          location: "부평동",
          level: 2,
          sb_level_index: 36,
          sb_tree_checked: false,
        },
        {
          location: "광복동",
          level: 2,
          sb_level_index: 37,
          sb_tree_checked: false,
        },
        {
          location: "남포동",
          level: 2,
          sb_level_index: 38,
          sb_tree_checked: false,
        },
        {
          location: "영주동",
          level: 2,
          sb_level_index: 39,
          sb_tree_checked: false,
        },
        {
          location: "금정구",
          level: 1,
          sb_level_index: 40,
          sb_tree_checked: false,
        },
        {
          location: "서동",
          level: 2,
          sb_level_index: 41,
          sb_tree_checked: false,
        },
        {
          location: "금사회동동",
          level: 2,
          sb_level_index: 42,
          sb_tree_checked: false,
        },
        {
          location: "부곡동",
          level: 2,
          sb_level_index: 43,
          sb_tree_checked: false,
        },
        {
          location: "장전동",
          level: 2,
          sb_level_index: 44,
          sb_tree_checked: false,
        },
        {
          location: "선두구동",
          level: 2,
          sb_level_index: 45,
          sb_tree_checked: false,
        },
        {
          location: "청룡노포동",
          level: 2,
          sb_level_index: 46,
          sb_tree_checked: false,
        },
        {
          location: "남산동",
          level: 2,
          sb_level_index: 47,
          sb_tree_checked: false,
        },
        {
          location: "구서동",
          level: 2,
          sb_level_index: 48,
          sb_tree_checked: false,
        },
        {
          location: "금성동",
          level: 2,
          sb_level_index: 49,
          sb_tree_checked: false,
        },
      ];

      function createGrid() {
        var SBGridProperties = {
          parentid: "SBGridArea",
          id: "datagrid",
          jsonref: "gridData",
          tree: {
            col: 0,
            levelref: "level",
            open: true,
            lock: true,
            checkbox: true,
            checkboxexceptionlevel: [0],
            openlevel: 0,
            checkboxchildrencheck: true,
            iconclickeventignore: true,
          },
          columns: [{ caption: ["대한민국"], ref: "location", width: "100%", type: "output" }],
        };
        datagrid = _SBGrid.create(SBGridProperties);
      }

      function fnGet() {
        alert(datagrid.getCheckedTreeRows().length);
      }
    </script>
    <button></button>
    <pre>

      0. checkbox는 0레벨의 노드에는 존재 하지 않음
      1. 모든 체크 박스를 체크한다 (도봉구, 노원구, 동대문구, 해운대구, 중구, 금정구)
      2. getCheckedTreeRows()를 이용해 체크된 row 갯수 확인 => <button onclick="fnGet()">getCheckedTreeRows</button>

      3. 새로고침 등을 이용하여 모든 체크를 해제한다
      4. setTreeCheckboxAll()을 이용하여 모든 체크박스를 체크 => <button onclick="datagrid.setTreeCheckboxAll(true)">setTreeCheckboxAll</button>
      5. getCheckedTreeRows()를 이용해 체크된 row 갯수 확인 => <button onclick="fnGet()">getCheckedTreeRows</button>

      개수가 변경됨을 확인
      
    </pre>
  </body>
</html>
